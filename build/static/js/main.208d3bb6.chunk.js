(this["webpackJsonpbacklog-reports"]=this["webpackJsonpbacklog-reports"]||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=a.n(l),o=(a(20),a(1)),c=a(2),s=a(4),u=a(3),m=a(6),h=a.n(m),v=a(12),d=a(5),p=a(14),f=a(13),b=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).activitiesGrouped=[],n.mystring="",n.state={cvsString:""},n}return Object(c.a)(a,[{key:"dateIsIn",value:function(e){var t,a=Object(p.a)(this.activitiesGrouped);try{for(a.s();!(t=a.n()).done;)var n=t.value,r=!1}catch(l){a.e(l)}finally{a.f()}return n.startDate===e&&(r=!0),r}},{key:"buidNewArray",value:function(e){for(var t=0;t<e.length;t++){var a=[];if(a.summary=e[t].summary,a.actualHours=parseFloat(e[t].actualHours),a.startDate=e[t].startDate,0===this.activitiesGrouped.length||!this.dateIsIn(e[t].startDate)){for(var n=t+1;n<e.length;n++)e[n].startDate===e[t].startDate&&(a.summary+="\n"+e[n].summary,a.actualHours+=parseFloat(e[n].actualHours),a.startDate=e[n].startDate);a.summary='"'+a.summary+'"',this.activitiesGrouped.push(a)}}for(t=0;t<this.activitiesGrouped.length;t++)this.mystring+=new Date(this.activitiesGrouped[t].startDate).toLocaleDateString("en-US",{timeZone:"UTC"})+",Desarrollo,,"+this.activitiesGrouped[t].summary+","+this.activitiesGrouped[t].actualHours+"\r\n"}},{key:"render",value:function(){var e=this.props.activities;if(e.length>0){this.buidNewArray(e);var t=this.mystring.toString();return r.a.createElement("div",null,r.a.createElement("table",{id:"activities",class:"table table-striped table-hover table-sm"},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Actividad"),r.a.createElement("th",null,"Horas"))),r.a.createElement("tbody",null,this.activitiesGrouped.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.startDate),r.a.createElement("td",null,e.summary),r.a.createElement("td",null,e.actualHours))})))),r.a.createElement(f.CSVLink,{data:t},"Download Report"))}return r.a.createElement("div",null)}}]),a}(r.a.Component),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:"",activities:[],isLoading:!0},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({value:t.target.value},(function(){console.log("empleado:"+a.state.value)}));case 2:this.componentDidMount(this.state.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"componentDidMount",value:function(e){var t=this;console.log("Hola"+this.state.value),""!==this.state.value&&fetch("https://ulfix.backlog.com/api/v2/issues?apiKey=1H0ln17z0cb2tGznBxsZRwPbgZldx8WM6LHSS0ngqy451p1kM7KtwmHqvWvQalEC&projectId[]=30508&assigneeId[]="+e+"&startDateSince=2020-08-01&startDateUntil=2020-08-31&sort=startDate&order=asc&count=100").then((function(e){return e.json()})).then((function(e){return t.setState({activities:e})}))}},{key:"render",value:function(){var e=this.props.reporters;return r.a.createElement("div",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleChange},r.a.createElement("option",{href:"#",value:""},"Elige un mes"),r.a.createElement("option",{href:"#",value:""},"Enero"),r.a.createElement("option",{href:"#",value:""},"Febrero"),r.a.createElement("option",{href:"#",value:""},"Marzo")))),r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleChange},r.a.createElement("option",{href:"#",value:""},"Selecciona un Empleado"),e.map((function(e){return r.a.createElement("option",{id:e.name,href:"#",value:e.id},e.name)}))))),r.a.createElement("div",{class:"col"},r.a.createElement("a",{href:"#",class:"btn btn-secondary active",role:"button"},"Descarga Reporte"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement(b,{activities:this.state.activities}))))}}]),a}(r.a.Component),g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={reporters:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ulfix.backlog.com/api/v2/projects/30508/users?apiKey=1H0ln17z0cb2tGznBxsZRwPbgZldx8WM6LHSS0ngqy451p1kM7KtwmHqvWvQalEC").then((function(e){return e.json()})).then((function(t){return e.setState({reporters:t})}))}},{key:"render",value:function(){return r.a.createElement(E,{reporters:this.state.reporters})}}]),a}(r.a.Component),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{class:"container",id:"reporters"},r.a.createElement(g,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(28),a(10),a(29);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.208d3bb6.chunk.js.map